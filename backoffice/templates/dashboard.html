{% extends "base.html" %}

{% block content %}

<div class='col-12'>
    <h2 class='font-weight-medium text-uppercase'>Dashboard</h2>
    <hr>

    <div class='row'>
        <div class='col-3'>
            <div class='card'>
                <div class='card-body'>
                    Customers
                </div>
            </div>
        </div>
        <div class='col-3'>
            <div class='card'>
                <div class='card-body'>
                    Customers
                </div>
            </div>
        </div>
        <div class='col-3'>
            <div class='card'>
                <div class='card-body'>
                    Customers
                </div>
            </div>
        </div>
        <div class='col-3'>
            <div class='card'>
                <div class='card-body'>
                    Customers
                </div>
            </div>
        </div>
    </div>

    <div class='row mt-4'>
        <div class='col-12'>
            <div class='card'>
                <div class='card-header mb-0'>
                    <h5>Products Low in Stock</h5>
                </div>

                <!-- PAGINATION -->
                    <div class='my-2 ml-2'>
                        <span class="step-links">
                            {% if products_low_stock.has_previous %}
                                <a href="?page=1">First</a>
                                <a href="?page={{ products_low_stock.previous_page_number }}" class='ml-3 mr-2 clickable clickable-large'>
                                    <i class="fas fa-angle-left"  class='clickable clickable-large'></i>
                                </a>
                            {% endif %}

                            <span class="current">
                                Page {{ products_low_stock.number }} of {{ products_low_stock.paginator.num_pages }}
                            </span>

                            {% if products_low_stock.has_next %}
                                <a href="?page={{ products_low_stock.next_page_number }}" class='mr-3 ml-2'>
                                    <i class="fas fa-angle-right"></i>
                                </a>
                                <a href="?page={{ products_low_stock.paginator.num_pages }}">Last</a>
                            {% endif %}
                        </span>
                    </div>
                <!-- ./PAGINATION -->

                <div class='card-body p-0 mb-0'>
                    <table class='table table-borderless table-sm table-striped mb-0'>
                        <thead class='grey'>
                            <th>
                                Product Name
                            </th>
                            <th>
                                Product Quantity
                            </th>
                            <th>
                                Stock Threshold
                            </th>
                        </thead>
                        <tbody>
                            {% for product in products_low_stock %}
                                <tr>
                                    <td>
                                        {{product.name}} 
                                    </td>
                                    <td>
                                        {{product.quantity}} 
                                    </td>
                                    <td>
                                        {{product.stockThreshold}} 
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>


                    <!-- PAGINATION -->
                    <div class='my-2 ml-2'>
                        <span class="step-links">
                            {% if products_low_stock.has_previous %}
                                <a href="?page=1">First</a>
                                <a href="?page={{ products_low_stock.previous_page_number }}" class='ml-3 mr-2 clickable clickable-large'>
                                    <i class="fas fa-angle-left"  class='clickable clickable-large'></i>
                                </a>
                            {% endif %}

                            <span class="current">
                                Page {{ products_low_stock.number }} of {{ products_low_stock.paginator.num_pages }}
                            </span>

                            {% if products_low_stock.has_next %}
                                <a href="?page={{ products_low_stock.next_page_number }}" class='mr-3 ml-2'>
                                    <i class="fas fa-angle-right"></i>
                                </a>
                                <a href="?page={{ products_low_stock.paginator.num_pages }}">Last</a>
                            {% endif %}
                        </span>
                    </div>
                <!-- ./PAGINATION -->


                </div>
            </div>
        </div>
    </div>

</div>


{% endblock content %}

